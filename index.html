<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="carousel">        
        <div class="wrapper">
            <div class="card" data-pos="1" data-item="1" onclick='update(this)'>
                <span>Title 1</span>
                <img src="https://source.unsplash.com/random/300×300" alt="something" >
                <div class="text">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates minima eveniet ut eaque id adipisci, explicabo vitae accusantium fugiat deserunt, architecto, placeat non expedita corporis magnam esse delectus? Dignissimos, quaerat!
                </div>       
                <div class="navigation">
                    <ul>
                        <li class="nav" onclick="nextItem(1)" data-nav="1"></li>
                        <li class="nav" onclick="nextItem(2)" data-nav="2"></li>
                        <li class="nav" onclick="nextItem(3)" data-nav="3"></li>
                    </ul>
                </div>         
            </div>
            <div class="card" data-pos="2" data-item="2" onClick='update(this)'>
                <span>Title 1</span>
                <img src="https://source.unsplash.com/random/300×300" alt="something" >
                <div class="text">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates minima eveniet ut eaque id adipisci, explicabo vitae accusantium fugiat deserunt, architecto, placeat non expedita corporis magnam esse delectus? Dignissimos, quaerat!
                </div>                
            </div>
            <div class="card" data-pos="3" data-item="3" onClick='update(this)'>
                <span>Title 1</span>
                <img src="https://source.unsplash.com/random/300×300" alt="something" >
                <div class="text">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates minima eveniet ut eaque id adipisci, explicabo vitae accusantium fugiat deserunt, architecto, placeat non expedita corporis magnam esse delectus? Dignissimos, quaerat!
                </div>                
            </div>                        
        </div>            
    </div>
</body>

<script>
    var item = document.getElementsByClassName('card');    
    var nav = document.getElementsByClassName('nav'); 
    var navigation = document.querySelector('.navigation')   
    var wrapper = document.querySelector('.wrapper');
    
    var itemIndex = 1;
    showItem(itemIndex);

    function nextItem(n){        
        event.stopPropagation()
        itemIndex = n
        showItem(itemIndex)                
    }            

    function update(item){
        event.stopPropagation()
        
        if(item.classList.contains('card-show')){
            return
        }else{
            showItem(itemIndex = parseInt(item.getAttribute('data-item')))            
        }
    }    

    function showItem(index){                 
        if(index > item.length){itemIndex = 1}
        if(index < 1){itemIndex = item.length}

        if(index === 1){
            item[0].dataset.pos = '1'
            item[1].dataset.pos = '2'
            item[2].dataset.pos = '3'
        }

        if(index === 2){
            item[0].dataset.pos = '-2'
            item[1].dataset.pos = '1'
            item[2].dataset.pos = '2'
        }
        if(index === 3){
            item[0].dataset.pos = '-3'
            item[1].dataset.pos = '-2'
            item[2].dataset.pos = '1'
        }        
        
        for(var i = 0; i < item.length; i++){                        
            nav[i].classList.remove("active");                        
        }                        
        nav[itemIndex - 1].classList.add("active");        
        item[itemIndex - 1].append(navigation);                
    }

</script>
</html>
